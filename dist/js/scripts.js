var pokemonRepository=function(){var t=[],o="https://pokeapi.co/api/v2/pokemon/?limit=150",e=$("#myUL");$("#modal-container");function n(o){t.push(o),i(o)}const a=t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1);function i(t){$('<div class="list-group"></div>');var o=$('<button type="button" class="list-group-item list-group-item-action data-toggle="modal" data-target="#modal-container">'+a(t.name)+"</button>");e.append(o),o.on("click",function(){!function(t){pokemonRepository.loadDetails(t).then(function(){r(t)}).catch(function(t){console.error(t)})}(t)})}function r(t){$("#modal-container").modal("show"),$("#modalDialog"),$("#modalContent");var o=$("#modalHeader");o.empty();var e=$("<h5>"+t.name+"</h5>");o.append(e);var n=$("#modalBody");n.html("Height: "+t.height+"<br/><br/>Weight: "+t.weight+"<br/><br/>");var a=$("<img class='modal-image img' src='"+t.imageUrl+"'>");n.append(a);$("#modalFooter"),$("#modalCloseFooter")}return{add:n,getAll:function(){return t},addListItem:i,loadList:function(){return $.ajax(o,{dataType:"json"}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var o=t.detailsUrl;return $.ajax(o,{dataType:"json"}).then(function(t){return t}).then(function(o){t.id=o.id,t.imageUrl="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+o.id+".png",t.height="Height: "+o.height+"dm",t.weight="Weight: "+o.weight+"dg",t.types=o.types.map(function(t){return t.type.name})}).catch(function(t){console.error(t)})},showModal:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
